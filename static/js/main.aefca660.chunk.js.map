{"version":3,"sources":["flatiron.js","App.js","g920/wheel.js","g920/pedal.js","g920/pedals.js","g920/shifter.js","g920/shifterbase.js","serviceWorker.js","index.js"],"names":["fiSubscribers","flatiron","fiStore","fiWatchers","fiWatchersChildren","fiIncrementIndex","fiHistoryIndex","fiHistory","delimiter","_setChild","obj","path","value","i","split","length","d","get","key","_getChild","error","Error","copy","cloneDeep","set","newValue","parent","_notifyHistory","_notifyComponents","_notifySubscribers","_notifyChildren","setWithObj","subscribe","callback","Function","push","undo","index","_setHistory","redo","historical","connect","watchedKeys","onCustomWatched","onCustomProps","WrappedComponent","props","watched","_flatironid","state","processWatched","_unwatch","this","isConstructor","a","b","_arrayEquals","Array","isArray","componentState","_watch","customState","onNotify","Object","assign","customComponentState","setState","React","createElement","children","Component","childKey","slice","component","delimiterPos","indexOf","parentKey","substring","Wheel","wheelStyle","transform","rotation","style","src","ownProps","axis","store","Pedal","currentPos","downAmount","width","position","top","left","Pedals","ShifterBase","halfGrid","gridSize","halfGridY","moveX","moveY","speed","gear","shifterStyle","transition","highlightStyle","backgroundColor","height","highlightX","highlightY","display","gear1","gear2","gear3","gear4","gear5","gear6","reverse","gearButton","pressed","defaultButtons","defaultAxes","touched","App","gamePads","start","gamePadIndex","gameLoopStarted","gameLoop","bind","onGamepadConnected","window","addEventListener","e","gp","navigator","getGamepads","gamepad","console","log","id","buttons","axes","toLowerCase","changeGamepad","target","gamepadIndex","options","values","map","isSelected","selected","paddingLeft","name","onChange","buttonStates","button","buttonState","axesStates","requestAnimationFrame","Boolean","location","hostname","match","ReactDOM","render","document","getElementById","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.aefca660.chunk.js","sourcesContent":["import React from 'react';\r\nimport cloneDeep from 'lodash/cloneDeep';\r\n\r\nvar flatiron = {};  //main library\r\nvar fiStore = {};   //global store\r\nvar fiWatchers = {};    //component watchers\r\nvar fiWatchersChildren = {}; //component watchers for drill down keys \r\nvar fiIncrementIndex = 0; //HOC indexing\r\nvar fiSubscribers;  //global subscribers (outside components)\r\nvar fiHistoryIndex = {}; //index of history\r\nvar fiHistory = {}; //history list of copied states\r\nvar delimiter = \"-\";\r\n\r\nflatiron.delimiter = function (d) {\r\n    delimiter = d;\r\n}\r\n\r\nflatiron.get = function (key) {\r\n    let value;\r\n    try {\r\n        value = _getChild(fiStore, key);\r\n    } catch (error) {\r\n        throw new Error(\"[flatiron.get] ERROR: Key '\" + key + \"' not valid.\");\r\n    }\r\n\r\n    return value;\r\n}\r\n\r\nflatiron.copy = function (key) {\r\n    let value = flatiron.get(key);\r\n    return cloneDeep(value);\r\n}\r\n\r\nflatiron.set = function (key, newValue) {\r\n    let parent = key;\r\n    try {\r\n        parent = _setChild(fiStore, key, newValue);\r\n    } catch (error) {\r\n        throw new Error(\"[flatiron.set] ERROR: Key '\" + key + \"' not valid.\");\r\n    }\r\n\r\n    flatiron._notifyHistory(parent, fiStore[parent]);\r\n    flatiron._notifyComponents(parent, fiStore[parent]);\r\n    flatiron._notifySubscribers(parent, fiStore[parent]);\r\n\r\n    if (parent !== key) {\r\n        flatiron._notifyComponents(key, newValue);\r\n        flatiron._notifySubscribers(key, newValue);\r\n    } else {\r\n        flatiron._notifyChildren(parent);\r\n    }\r\n}\r\n\r\nflatiron.setWithObj = function (obj) {\r\n    for (let i in obj) {\r\n        const key = i\r\n        const newValue = obj[i]\r\n        let parent = key;\r\n        try {\r\n            parent = _setChild(fiStore, key, newValue);\r\n        } catch (error) {\r\n            throw new Error(\"[flatiron.set] ERROR: Key '\" + key + \"' not valid.\");\r\n        }\r\n\r\n        flatiron._notifyHistory(parent, fiStore[parent]);\r\n        flatiron._notifyComponents(parent, fiStore[parent]);\r\n        flatiron._notifySubscribers(parent, fiStore[parent]);\r\n\r\n        if (parent !== key) {\r\n            flatiron._notifyComponents(key, newValue);\r\n            flatiron._notifySubscribers(key, newValue);\r\n        } else {\r\n            flatiron._notifyChildren(parent);\r\n        }\r\n    }\r\n}\r\nflatiron.subscribe = function (key, callback) {\r\n    if (!(callback instanceof Function))\r\n        throw new Error(\"[flatiron.subscribe] ERROR: callback must be a function.\");\r\n    if (!fiSubscribers)\r\n        fiSubscribers = {};\r\n\r\n    if (!fiSubscribers[key])\r\n        fiSubscribers[key] = [];\r\n    fiSubscribers[key].push(callback);\r\n}\r\n\r\nflatiron.undo = function (key) {\r\n    if (!(key in fiHistory))\r\n        throw new Error(\"[flatiron.undo] ERROR: Key '\" + key + \"' does not have historical state\");\r\n\r\n    let index = fiHistoryIndex[key] - 2;\r\n    if (index < 0)\r\n        index = 0;\r\n    fiHistoryIndex[key] = index + 1;\r\n    flatiron._setHistory(key, cloneDeep(fiHistory[key][index]));\r\n    return fiHistory[key][index];\r\n}\r\n\r\nflatiron.redo = function (key) {\r\n    if (!(key in fiHistory))\r\n        throw new Error(\"[flatiron.redo] ERROR: Key '\" + key + \"' does not have historical state\");\r\n    let index = fiHistoryIndex[key];\r\n    if (index >= fiHistory[key].length)\r\n        index = fiHistory[key].length - 1;\r\n    fiHistoryIndex[key] = index + 1;\r\n    flatiron._setHistory(key, cloneDeep(fiHistory[key][index]));\r\n    return fiHistory[key][index];\r\n}\r\n\r\nflatiron.historical = function (key) {\r\n    fiHistory[key] = [];\r\n    fiHistoryIndex[key] = 0;\r\n}\r\n\r\nfunction _arrayEquals(a, b) {\r\n    if (!a || !b) return false;\r\n    if (a.length != b.length) return false;\r\n    for (var i = 0; i < a.length; ++i) {\r\n        if (a[i] !== b[i]) return false;\r\n    }\r\n}\r\n\r\nflatiron.connect = function (watchedKeys, onCustomWatched, onCustomProps) {\r\n    return function (WrappedComponent) {\r\n        return class extends React.Component {\r\n            constructor(props) {\r\n                super(props);\r\n\r\n                this.watched = {};\r\n                this.onCustomWatched = null;\r\n                this._flatironid = fiIncrementIndex++;\r\n\r\n                if (onCustomWatched instanceof Function)\r\n                    this.onCustomWatched = onCustomWatched;\r\n\r\n                this.state = this.processWatched(true);\r\n            }\r\n\r\n            componentWillUnmount() {\r\n                flatiron._unwatch(this.watched, this);\r\n            }\r\n\r\n            processWatched(isConstructor) {\r\n                if (this.onCustomWatched) {\r\n                    let previousWatchedKeys = watchedKeys;\r\n                    watchedKeys = this.onCustomWatched({ ...this.props, ...this.state });\r\n                    if (!_arrayEquals(previousWatchedKeys, watchedKeys)) {\r\n                        flatiron._unwatch(this.watched, this);\r\n                        this.watched = {};\r\n                    }\r\n                }\r\n\r\n                if (!Array.isArray(watchedKeys))\r\n                    throw new Error(\"[flatiron.ProcessWatched] ERROR: parameter watchList '\" + typeof watchedKeys + \"' must return array of strings.\");\r\n\r\n                let componentState = {};\r\n\r\n                for (let i in watchedKeys) {\r\n                    let key = watchedKeys[i];\r\n\r\n                    if (!(key in this.watched)) {\r\n                        flatiron._watch(key, this);\r\n                        this.watched[key] = true;\r\n                        if (isConstructor) {\r\n                            let customState = this.onNotify(key, flatiron.copy(key), isConstructor);\r\n                            Object.assign(componentState, customState);\r\n                        }\r\n                    }\r\n                }\r\n\r\n                return componentState;\r\n            }\r\n\r\n            onNotify(key, value, isConstructor) {\r\n                let componentState = {};\r\n                componentState[key] = value;\r\n\r\n                if (onCustomProps instanceof Function) {\r\n                    let customComponentState = onCustomProps(key, value, Object.assign({}, fiStore), { ...this.props, ...this.state });\r\n                    Object.assign(componentState, customComponentState);\r\n                }\r\n\r\n                // if (this.onCustomWatched)\r\n                //     this.processWatched();\r\n\r\n                if (!isConstructor)\r\n                    this.setState(componentState);\r\n                return componentState;\r\n            }\r\n\r\n            render() {\r\n                return React.createElement(WrappedComponent, { ...this.state, ...this.props }, this.props.children);\r\n            }\r\n        };\r\n    }\r\n}\r\n\r\nfunction _getChild(obj, path) {\r\n    var i;\r\n    path = path.split(delimiter);\r\n    for (i = 0; i < path.length - 1; i++)\r\n        obj = obj[path[i]];\r\n\r\n    return obj[path[i]];\r\n}\r\n\r\nfunction _setChild(obj, path, value) {\r\n    var i;\r\n    path = path.split(delimiter);\r\n    for (i = 0; i < path.length - 1; i++)\r\n        obj = obj[path[i]];\r\n\r\n    obj[path[i]] = value;\r\n    return path[0];\r\n}\r\n\r\nflatiron._setHistory = function (key, newValue) {\r\n    let oldValue = fiStore[key];\r\n    let parent = _setChild(fiStore, key, newValue);\r\n\r\n    flatiron._notifyComponents(key, newValue);\r\n    flatiron._notifySubscribers(key, newValue);\r\n    flatiron._notifyChildren(parent);\r\n}\r\n\r\nflatiron._notifyChildren = function (key) {\r\n    if (!Array.isArray(fiStore[key]) && !(fiStore[key] instanceof Object))\r\n        return;\r\n    for (var childKey in fiWatchersChildren[key]) {\r\n        let newValue = flatiron.get(childKey);\r\n        flatiron._notifyComponents(childKey, newValue);\r\n        flatiron._notifySubscribers(childKey, newValue);\r\n    }\r\n}\r\n\r\nflatiron._notifyHistory = function (key, value) {\r\n    if (!(key in fiHistory))\r\n        return;\r\n\r\n    value = cloneDeep(value);\r\n    let index = fiHistoryIndex[key];\r\n    if (index == fiHistory[key].length) {\r\n        fiHistory[key].push(value);\r\n        fiHistoryIndex[key] = fiHistory[key].length;\r\n    }\r\n    else {\r\n        fiHistory[key] = fiHistory[key].slice(0, index);\r\n        fiHistory[key][index] = value;\r\n        fiHistoryIndex[key] = index + 1;\r\n    }\r\n}\r\nflatiron._notifyComponents = function (key, value) {\r\n    if (!(key in fiWatchers))\r\n        return;\r\n    for (let i in fiWatchers[key])\r\n        fiWatchers[key][i].onNotify(key, value);\r\n}\r\nflatiron._notifySubscribers = function (key, value) {\r\n    if (!fiSubscribers)\r\n        return;\r\n\r\n    for (let i in fiSubscribers['*'])\r\n        fiSubscribers['*'][i](key, value);\r\n\r\n    for (let i in fiSubscribers[key])\r\n        fiSubscribers[key][i](key, value);\r\n}\r\n\r\n\r\n\r\nflatiron._watch = function (key, component) {\r\n    if (!fiWatchers[key])\r\n        fiWatchers[key] = {};\r\n    fiWatchers[key][component._flatironid] = component;\r\n    let delimiterPos = key.indexOf(delimiter);\r\n    if (delimiterPos > -1) {\r\n        let parentKey = key.substring(0, delimiterPos);\r\n        if (!fiWatchersChildren[parentKey])\r\n            fiWatchersChildren[parentKey] = {};\r\n        fiWatchersChildren[parentKey][key] = true;\r\n    }\r\n}\r\n\r\nflatiron._unwatch = function (watched, component) {\r\n    for (let key in watched) {\r\n        delete fiWatchers[key][component._flatironid];\r\n    }\r\n\r\n}\r\n\r\nexport default flatiron;","import React, { Component } from 'react';\n\nimport Wheel from './g920/wheel';\nimport Pedals from './g920/pedals';\nimport ShifterBase from './g920/shifterbase';\n\nimport flatiron from './flatiron';\n\nlet defaultButtons = [];\nlet defaultAxes = [];\nfor (let i = 0; i < 20; i++) {\n  defaultButtons.push({ pressed: false, touched: false, value: 0 })\n  defaultAxes.push(0);\n}\n\nflatiron.set(\"buttons\", defaultButtons);\nflatiron.set(\"axes\", defaultAxes);\nclass App extends Component {\n  constructor(props) {\n    super(props)\n\n    this.gamePads = {};\n\n    this.start = 0;\n    this.a = 0;\n    this.b = 0;\n\n    this.gamePadIndex = -1;\n\n    this.state = {\n      gameLoopStarted: false\n    }\n\n    this.gameLoop = this.gameLoop.bind(this);\n    this.onGamepadConnected = this.onGamepadConnected.bind(this);\n    var $this = this;\n    window.addEventListener(\"gamepadconnected\", this.onGamepadConnected);\n  }\n\n  onGamepadConnected(e) {\n    var gp = navigator.getGamepads()[e.gamepad.index];\n    console.log(\n      \"Gamepad connected at index %d: %s. %d buttons, %d axes.\",\n      gp.index, gp.id, gp.buttons.length, gp.axes.length\n    );\n    this.gamePads[gp.index] = gp;\n    this.setState({ gamePads: this.gamePads })\n    if (gp.id.toLowerCase().indexOf(\"wheel\") > -1) {\n      this.changeGamepad(gp.index);\n    }\n  }\n\n  onChange(e) {\n    this.changeGamepad(e.target.value);\n\n  }\n\n  changeGamepad(id) {\n    console.log(id);\n    this.gamePadIndex = id;\n    this.setState({ gamepadIndex: id, gameLoopStarted: true })\n    this.gameLoop();\n  }\n\n  render() {\n    //let gamepads = navigator.getGamepads();\n    //console.log(gamepads)\n    var options = Object.values(this.gamePads).map(gp => {\n\n      let isSelected = gp.index == this.gamePadIndex;\n      return (<option selected={isSelected} value={gp.index}>{gp.id}</option>)\n\n    }\n    );\n\n    return (\n      <div style={{ paddingLeft: '50px', backgroundColor: '#133a4d' }}>\n        <select name=\"gamepadSelection\" onChange={(e) => { this.onChange(e) }}>\n          {options}\n        </select>\n        <br />\n        <div style={{ position: 'relative', top: '20px', }}>\n          <Wheel axis={0} />\n        </div>\n        <div style={{ position: 'relative', top: '-300px', left: \"500px\", 'marginLeft': '50px' }}>\n          <ShifterBase />\n        </div>\n        <div style={{ position: 'relative', top: '-170px', left: \"30px\", 'marginLeft': '50px' }}>\n          <Pedals />\n        </div>\n\n\n      </div>\n\n    )\n  }\n\n  buttonPressed(b) {\n    if (typeof (b) == \"object\") {\n      return b.pressed;\n    }\n    return b == 1.0;\n  }\n\n  gameLoop() {\n    if (this.gamePadIndex == -1)\n      return;\n\n    //var gp = this.gamePads[this.gamePadIndex];\n    var gp = navigator.getGamepads()[this.gamePadIndex];\n    let buttonStates = [];\n    for (let i = 0; i < gp.buttons.length; i++) {\n      let button = gp.buttons[i];\n      let buttonState = {\n        pressed: button.pressed,\n        touched: button.touched,\n        value: button.value\n      }\n      buttonStates.push(buttonState);\n    }\n\n    let axesStates = [];\n    for (let i = 0; i < gp.axes.length; i++) {\n      let axis = gp.axes[i];\n      axesStates.push(axis);\n    }\n\n    flatiron.set(\"buttons\", buttonStates);\n    flatiron.set(\"axes\", axesStates);\n\n    this.start = requestAnimationFrame(this.gameLoop);\n  }\n}\n\nexport default App;\n","import React, { Component } from 'react';\r\nimport flatiron from '../flatiron';\r\nclass Wheel extends Component {\r\n\r\n    render() {\r\n        let degrees = this.props.rotation * 900;\r\n        let wheelStyle = {\r\n            //width: '400px',\r\n            transform: 'rotate(' + degrees + 'deg)'\r\n        };\r\n\r\n        return (\r\n            <img style={wheelStyle} src=\"g920/wheel.png\" />\r\n        )\r\n    }\r\n}\r\n\r\nlet onCustomWatched = (ownProps) => {\r\n    return ['axes-' + ownProps.axis];\r\n}\r\nlet onCustomProps = (key, value, store, ownProps) => {\r\n    return {\r\n        rotation: value\r\n    }\r\n}\r\n\r\nexport default flatiron.connect([], onCustomWatched, onCustomProps)(Wheel);","import React, { Component } from 'react';\r\nimport flatiron from '../flatiron';\r\nclass Pedal extends Component {\r\n\r\n    render() {\r\n        let currentPos = this.props.downAmount * this.props.value * -1;\r\n\r\n        let wheelStyle = {\r\n            width: '70px',\r\n            position: 'absolute',\r\n            top: this.props.top + 'px',\r\n            left: this.props.left + 'px',\r\n            transform: 'translateY(' + currentPos + 'px)'\r\n        };\r\n\r\n        return (\r\n            <img style={wheelStyle} src={this.props.src} />\r\n        )\r\n    }\r\n}\r\n\r\nlet onCustomWatched = (ownProps) => {\r\n    return ['axes-' + ownProps.axis];\r\n}\r\nlet onCustomProps = (key, value, store, ownProps) => {\r\n    return {\r\n        value: value\r\n    }\r\n}\r\n\r\nexport default flatiron.connect([], onCustomWatched, onCustomProps)(Pedal);","import React, { Component } from 'react';\r\nimport flatiron from '../flatiron';\r\n\r\nimport Pedal from './pedal';\r\n\r\nclass Pedals extends Component {\r\n\r\n    render() {\r\n\r\n        let pedalsStyle = {\r\n            width: '400px'\r\n        }\r\n        return (\r\n            <div style={{ position: 'relative' }}>\r\n                <Pedal top={-20} left={290} downAmount={50} axis={1} src=\"g920/gas.png\" />\r\n                <Pedal top={-10} left={160} downAmount={50} axis={2} src=\"g920/brake.png\" />\r\n                <Pedal top={-10} left={40} downAmount={50} axis={5} src=\"g920/clutch.png\" />\r\n\r\n                <img style={pedalsStyle} src=\"g920/pedals.png\" />\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default Pedals;","import React, { Component } from 'react';\r\nimport flatiron from '../flatiron';\r\nclass ShifterBase extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.halfGrid = this.props.gridSize / 2.0;\r\n        this.halfGridY = this.props.gridSize / 2.2;\r\n        this.moveX = 0;\r\n        this.moveY = 0;\r\n    }\r\n\r\n    render() {\r\n        let speed = '100ms';\r\n        let highlightX = 0;\r\n        let highlightY = 0;\r\n\r\n        switch (this.props.gear) {\r\n            case -1: speed = '500ms'; this.moveX = 0; this.moveY = 0; break;\r\n            case 0: this.moveX = this.halfGrid; this.moveY = this.halfGridY; break;\r\n            case 1: this.moveX = -this.halfGrid; this.moveY = -this.halfGridY; break;\r\n            case 2: this.moveX = -this.halfGrid; this.moveY = this.halfGridY; break;\r\n            case 3: this.moveX = 0; this.moveY = -this.halfGridY; break;\r\n            case 4: this.moveX = 0; this.moveY = this.halfGridY; break;\r\n            case 5: this.moveX = this.halfGrid; this.moveY = -this.halfGridY; break;\r\n            case 6: this.moveX = this.halfGrid; this.moveY = this.halfGridY; break;\r\n        }\r\n        let shifterStyle = {\r\n            width: '150px',\r\n            'z-index': '999',\r\n            position: 'absolute',\r\n            top: this.props.top + 'px',\r\n            left: this.props.left + 'px',\r\n            transition: 'all ' + speed,\r\n            transform: 'translate(' + this.moveX + 'px, ' + this.moveY + 'px)'\r\n        };\r\n\r\n\r\n\r\n        let highlightStyle = {\r\n            backgroundColor: 'red',\r\n            width: '10px',\r\n            height: '20px',\r\n            'z-index': '999',\r\n            position: 'absolute',\r\n            top: highlightX + 'px',\r\n            left: highlightY + 'px',\r\n            display: 'none'\r\n        }\r\n\r\n        return (\r\n            <div style={{ position: 'relative' }}>\r\n                <div style={highlightStyle}></div>\r\n                <img style={shifterStyle} src=\"g920/shifter.png\" />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nlet onCustomWatched = (ownProps) => {\r\n    return ['buttons-' + ownProps.gear1, 'buttons-' + ownProps.gear2, 'buttons-' + ownProps.gear3, 'buttons-' + ownProps.gear4, 'buttons-' + ownProps.gear5, 'buttons-' + ownProps.gear6, 'buttons-' + ownProps.reverse];\r\n}\r\nlet onCustomProps = (key, value, store, ownProps) => {\r\n\r\n    let gear = ownProps.gear || -1;\r\n    let gearButton = ownProps.gearButton || -1;\r\n\r\n    if (value.pressed) {\r\n        switch (key) {\r\n            case 'buttons-' + ownProps.gear1: gear = 1; gearButton = ownProps.gear1; break;\r\n            case 'buttons-' + ownProps.gear2: gear = 2; gearButton = ownProps.gear2; break;\r\n            case 'buttons-' + ownProps.gear3: gear = 3; gearButton = ownProps.gear3; break;\r\n            case 'buttons-' + ownProps.gear4: gear = 4; gearButton = ownProps.gear4; break;\r\n            case 'buttons-' + ownProps.gear5: gear = 5; gearButton = ownProps.gear5; break;\r\n            case 'buttons-' + ownProps.gear6: gear = 6; gearButton = ownProps.gear6; break;\r\n            case 'buttons-' + ownProps.reverse: gear = 0; gearButton = ownProps.reverse; break;\r\n            default: gear = -1; break;\r\n        }\r\n    }\r\n    else if ('buttons-' + ownProps.gearButton == key) {\r\n        gear = -1;\r\n    }\r\n    return {\r\n        gear,\r\n        gearButton\r\n    };\r\n}\r\n\r\nexport default flatiron.connect([], onCustomWatched, onCustomProps)(ShifterBase);","import React, { Component } from 'react';\r\nimport flatiron from '../flatiron';\r\nimport Shifter from './shifter';\r\n\r\nclass ShifterBase extends Component {\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div style={{ position: 'relative' }}>\r\n                <Shifter\r\n                    top={70}\r\n                    left={50}\r\n                    gridSize={150}\r\n                    gear1={12}\r\n                    gear2={13}\r\n                    gear3={14}\r\n                    gear4={15}\r\n                    gear5={16}\r\n                    gear6={17}\r\n                    reverse={11} />\r\n                <img width=\"250px\" src=\"g920/shifter-base.png\" />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nlet onCustomWatched = (ownProps) => {\r\n    return ['buttons-' + ownProps.axis];\r\n}\r\nlet onCustomProps = (key, value, store, ownProps) => {\r\n    return {\r\n        value: value\r\n    }\r\n}\r\n\r\nexport default flatiron.connect([], onCustomWatched, onCustomProps)(ShifterBase);","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}